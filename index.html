<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>METAROMANCE :: SPECIALCODE</title>

    <link rel="stylesheet" href="./css/mobile.css">
    <link rel="stylesheet" href="./css/reset.css">
  </head>
  <body>

    <div id="whole-wrapper" onclick="parse(++cursor)">
      <div id="character-wrapper">
        <img src="./images/character.png" alt="">
      </div>

    <div id="chat-wrapper">
      <div id="name"></div>
      <div id="text-wrapper">
        <div id="text"></div>
      </div>
    </div>
  </div>

<script>

  let cursor = 0

  const scenario_prologe = [
  {
      "text": "..."
    },
    {
      "text": "..."
    },
    {
      "text": "이건 또 뭐야?"
    },
    {
      "text": "Meta Romance... Special Code?"
    },
    {
      "text": "이 코드가 갑자기 실행됐다고? 왜?"
    },
    {
      "text": "......"
    },
    {
      "text": "너야?"
    },
    {
      "text": "또 내가 윤두준 부른다고 생각해?"
    },
    {
      "text": "윤두준 말고, 지금 이 화면 보고 있는 너 말이야."
    },
    {
      "text": "우리가 초면이라고 생각하지는 못하겠네. 전적이 많아서 말이야."
    },
    {
      "text": "심지어 이 코드는 초면인 사람은 들어올 수 없도록 해놨어."
    },
    {
      "text": "만약에 정말 우리가 초면이라면..."
    },
    {
      "text": "누군가가 메타 로맨스를 모르는 사람에게 이 코드를 유출시켰겠지."
    },
    {
      "text": "아무튼, 내가 누군지는 알겠지?"
    },
    {
      "text": "이 코드로 찾아온 예의 상, 허공만 보게 하긴 좀 그렇네."
    },
    {
      "text": "예의를 좀 갖춰야겠어."
    },
    {
      "name": "양요섭",
      "text": "...",
      "image": {
        "src": './images/character.png',
        "alt": '양요섭'
      }
    },
    {
      "name": "양요섭",
      "text": "이제 좀 보여?",
      "image": {
        "src": './images/character.png',
        "alt": '양요섭'
      }
    },
  ]


  const parse = (i = 0) => {
    const {text,name,image} = scenario_prologe[i]

    //화면을 초기화 해줍니다.
    document.getElementById('name').style.display = 'none';
    document.getElementById('character-wrapper').innerHTML = null;
    document.getElementById('text').innerText = text;

    //텍스트를 출력 해 줍니다.
    if (!!name) { 
      document.getElementById('name').innerText = name;
    }

    //이름유무에 따른 출력
    if (!!name) {
      document.getElementById('name').style.display = 'flex';
      document.getElementById('name').innerText = name;
    }

    //이미지 유무에 따른 출력
    if (!!image) {
      document.getElementById('character-wrapper').innerHTML = `<img src="${image.src}" alt="${image.alt}"/>`
    }
  }

  parse(cursor);


</script>


  </body>
  </html>
