<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>METAROMANCE :: SPECIALCODE</title>

    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/frame.css">
  </head>
  <body>

    <div id="whole-wrapper">
      <div id="character-wrapper">
        <img src="./images/char.PNG" alt="">
      </div>

    <div id="chat-wrapper">
      <div id="name"></div>
      <div id="text-wrapper">
        <div id="text"></div>
        <div id="next">
          &gt;
        </div>
      </div>
      <div id="setting">
        <span>Log</span>
      </div>
    </div>
  </div>

<script>

  let cursor = 0
  
  const scenario_prologe = [
  {
      "text": "..."
    },
    {
      "text": "여긴 어디지?"
    },
    {
      "text": "코드가 인식되니까 무작정 들어왔는데..."
    },
    {
      "name": "???",
      "text": "...이건 또 뭐야?"
    }
  ]


  const parse = (i = 0) => {
    const {text,name} = scenario_prologe[i]

    //화면을 초기화 해줍니다.
    document.getElementById('name').style.display = 'none';
    document.getElementById('text').innerText = text;

    //텍스트를 출력 해 줍니다.
    if (!!name) { 
      document.getElementById('name').style.display = 'grid';
      document.getElementById('name').innerText = name;
    }

    //이름유무에 따른 출력
    if (!!name) {
      document.getElementById('name').style.display = 'grid';
      document.getElementById('name').innerText = name;
    }

    //이미지 유무에 따른 출력
    if (!!image) {
      document.getElementById('character-wrapper').innerHTML = `<img src="${image.src}" alt="${image.alt}"/>`
    }

    //커서가 시나리오의 끝에 오면 화살표를 지웁니다.
    if (scenario.length-1 === cursor) {
      document.getElementById('next').style.display = 'none';
    }
  }

  parse(cursor);


</script>


  </body>
  </html>
